<!DOCTYPE html>
<html lang="en" dir="auto">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="noindex, nofollow">
<title>Introduction to Docker | Namelesss blog</title>
<meta name="keywords" content="">
<meta name="description" content="What is Docker?
Introduction

Imagine you&rsquo;re working on a project with a team.
Let&rsquo;s assume that this project uses a specific version of Python.
Each team member has to set everything up manually (dependencies, environment variables).
This brings a variety of problems:

&ldquo;It doesn&rsquo;t work for you, but it works fine on my computer.&rdquo;
If we have multiple projects, we need to spend a lot of time configuring them.



To avoid this We use Containers
A basic and high-level definition of a container is: &ldquo;A container is a folder or package with everything your application needs to run.&rdquo;">
<meta name="author" content="">
<link rel="canonical" href="//localhost:1313/posts/whatisdocker/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.d6fcd20a4fb86efa4dfac8ec95da60244cc8871042183da1ef28e3a762ad79c8.css" integrity="sha256-1vzSCk&#43;4bvpN&#43;sjsldpgJEzIhxBCGD2h7yjjp2Ktecg=" rel="preload stylesheet" as="style">
<link rel="icon" href="//localhost:1313/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="//localhost:1313/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="//localhost:1313/favicon-32x32.png">
<link rel="apple-touch-icon" href="//localhost:1313/apple-touch-icon.png">
<link rel="mask-icon" href="//localhost:1313/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="//localhost:1313/posts/whatisdocker/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="//localhost:1313/" accesskey="h" title="Namelesss blog (Alt + H)">Namelesss blog</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="//localhost:1313/" title="Home">
                    <span>Home</span>
                </a>
            </li>
            <li>
                <a href="//localhost:1313/posts/certs/" title="Certifications">
                    <span>Certifications</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title entry-hint-parent">
      Introduction to Docker
    </h1>
    <div class="post-meta"><span title='2024-12-10 14:53:04 -0300 -03'>December 10, 2024</span>

</div>
  </header> 
  <div class="post-content"><h1 id="what-is-docker">What is Docker?<a hidden class="anchor" aria-hidden="true" href="#what-is-docker">#</a></h1>
<h3 id="introduction">Introduction<a hidden class="anchor" aria-hidden="true" href="#introduction">#</a></h3>
<ul>
<li>Imagine you&rsquo;re working on a project with a team.</li>
<li>Let&rsquo;s assume that this project uses a specific version of Python.</li>
<li>Each team member has to set everything up manually (dependencies, environment variables).</li>
<li>This brings a variety of problems:
<ul>
<li>&ldquo;It doesn&rsquo;t work for you, but it works fine on my computer.&rdquo;</li>
<li>If we have multiple projects, we need to spend a lot of time configuring them.</li>
</ul>
</li>
</ul>
<h3 id="to-avoid-this-we-use-containers">To avoid this We use Containers<a hidden class="anchor" aria-hidden="true" href="#to-avoid-this-we-use-containers">#</a></h3>
<p>A basic and high-level definition of a container is: &ldquo;A container is a folder or package with everything your application needs to run.&rdquo;</p>
<p>Thanks to a container, we don&rsquo;t have to worry about configuring the project, as everything it needs is inside the container.</p>
<p>The only thing we would need is something to manipulate and manage these containers, and that&rsquo;s where Docker comes in.</p>
<h2 id="docker">Docker<a hidden class="anchor" aria-hidden="true" href="#docker">#</a></h2>
<p>Docker is/has/can:</p>
<ul>
<li>It has a large community, so there are tools and libraries available (dockerhub).</li>
<li>A tool for managing containers.</li>
<li>One of the key tools in the DevOps area.</li>
<li>It simplifies CI/CD processes by providing environments for each stage.</li>
<li>Containers use fewer resources than virtual machines (explained later).</li>
<li>Applications run the same way, regardless of the machine they are on (OS agnostic).</li>
<li>Uses less space because it uses a layer-based file system (explained later).</li>
</ul>
<h1 id="how-to-install-docker">How to install Docker?<a hidden class="anchor" aria-hidden="true" href="#how-to-install-docker">#</a></h1>
<p>On Docker&rsquo;s official website, you can find how to install Docker engine on different Linux distributions:</p>
<p><a href="https://docs.docker.com/engine/install/%5BDISTRO%5D/">https://docs.docker.com/engine/install/[DISTRO]/</a></p>
<p>For Windows, you can install Docker Desktop directly (Docker engine with a UI).</p>
<p>Once the installation is complete, to verify everything is working correctly, run this command: <code>$ docker run hello-world.</code></p>
<h1 id="show-the-container-already">Show the container already<a hidden class="anchor" aria-hidden="true" href="#show-the-container-already">#</a></h1>
<p>Before getting to the container, let&rsquo;s talk about the Dockerfile, which creates the image, and from the image, the container is created.</p>
<p>Dockerfile &mdash;&mdash;&gt; Image &mdash;&mdash;&ndash;&gt; Container</p>
<p>The Dockerfile is a text file (yaml) that has the instructions on how the image will be built; it&rsquo;s like creating a mold.</p>
<p>What do I do to the Dockerfile to create the image? Run this command: <code>$ docker build -t image-name ./dockerfile-directory .</code></p>
<p>The image would be the mold, and from the image, a container is created (it can create more than one).</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ docker run image-name
</span></span></code></pre></div><h1 id="anatomy-of-a-dockerfile">Anatomy of a Dockerfile<a hidden class="anchor" aria-hidden="true" href="#anatomy-of-a-dockerfile">#</a></h1>
<p>Basically, a Dockerfile describes the necessary steps to create an image, and it is usually placed in the root directory of the app.</p>
<p>Each line in the Dockerfile creates a new layer of an image that Docker will store. Essentially, when creating new images, Docker only needs to create layers of images that differ from the previous one.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>FROM node:0.10 ---&gt; base image
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>MAINTAINER Anna Doe anna@example.com --&gt; metadata
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>LABEL <span style="color:#e6db74">&#34;rating&#34;</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Five Stars&#34;</span> <span style="color:#e6db74">&#34;class&#34;</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;First Class&#34;</span> --&gt; metadata
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>USER root <span style="color:#f92672">(</span>even though containers provide OS isolation, they still run on the host<span style="color:#e6db74">&#39;s kernel; in production containers, always run as a non-privileged user).
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">-- Set environment variables to simplify the image creation process, keeping the Dockerfile simpler and following the DRY (Don&#39;</span>t Repeat Yourself<span style="color:#f92672">)</span> principle.
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>ENV APP /data/app ENV SCPATH /etc/supervisor/conf.d
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>RUN apt-get -y update --&gt; this will make the build slower; <span style="color:#66d9ef">if</span> you can find an updated image, use that instead.
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#### The daemons (this installs some dependencies I need to use and also forms the file structure I need)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>RUN apt-get -y install supervisor
</span></span><span style="display:flex;"><span>RUN mkdir -p /var/log/supervisor
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#### Supervisor Configuration</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>-- ADD is used to copy files from the local filesystem to your image <span style="color:#f92672">(</span>once the image is created, I can use it without having access to the original filesystem, as the files were copied<span style="color:#f92672">)</span>. ADD ./supervisord/conf.d/* $SCPATH/
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#### Application Code</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>The order of commands affects execution time. It<span style="color:#960050;background-color:#1e0010">&#39;</span>s optimal to place commands that change between images at the bottom.
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>ADD .js $AP/ WORKDIR $AP RUN npm install
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>CMD runs the command that starts the process I want to run inside the container.
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>CMD <span style="color:#f92672">[</span><span style="color:#e6db74">&#34;supervisord&#34;</span>, <span style="color:#e6db74">&#34;-n&#34;</span><span style="color:#f92672">]</span>
</span></span></code></pre></div><h3 id="the-best-practice-is-to-run-only-one-process-per-container">The best practice is to run only one process per container.<a hidden class="anchor" aria-hidden="true" href="#the-best-practice-is-to-run-only-one-process-per-container">#</a></h3>
<h2 id="containers-vs-virtual-machines">CONTAINERS VS VIRTUAL MACHINES<a hidden class="anchor" aria-hidden="true" href="#containers-vs-virtual-machines">#</a></h2>
<p>Yes, containers are nice, but can&rsquo;t I just make a virtual machine, and it&rsquo;s the same?</p>
<p>Why aren&rsquo;t containers and virtual machines the same? Because if they were the same, they would be called the same thing. Goodbye.</p>
<p>A little journey through different eras of software development.
<img alt="K8s Virtualization" loading="lazy" src="https://kubernetes.io/images/docs/Container_Evolution.svg"></p>
<p>In the traditional stage, physical servers were used, and we couldn&rsquo;t allocate resources for different parts of the server. In the case of running two applications on the same server, if one takes too many resources, it would crash the other. The solution was to use multiple servers, but the problem with this is the high cost of scaling physical servers and what to do with unused resources.</p>
<p>Virtualized Deployments: Another solution was to run virtual machines on a server. Virtualization allows us to isolate and secure processes since each virtual machine runs its own operating system, preventing others from accessing it. Virtualization optimizes the use of resources on the physical server, and it scales better since we can use a group of physical servers with disposable virtual machines.</p>
<p>Containers: Unlike virtual machines, containers share the operating system between the applications, but they have their own filesystem, CPU, and memory. What makes them very useful is that they are portable across different operating systems and cloud providers.</p>
<h2 id="how-are-processes-isolated-in-containers">How are processes isolated in containers?<a hidden class="anchor" aria-hidden="true" href="#how-are-processes-isolated-in-containers">#</a></h2>
<p>Kernel Namespaces, a feature of Linux.
Docker usa:</p>
<ul>
<li>
<p>PID (process ID): Each container has its own set of process IDs, and inside the container, processes have a different PID from the host, preventing the container from interacting with processes outside of it.</p>
</li>
<li>
<p>Network: Isolates network interfaces, IPs, and routing tables. Each container has its own network stack, so it has its own IP and network configuration, separate from the host.</p>
</li>
<li>
<p>Mount: This is a way to mount and unmount filesystems without affecting the host.</p>
</li>
<li>
<p>UTS: For isolating the hostname and domain name, useful for network configurations.</p>
</li>
<li>
<p>User: This allows mapping of user and group IDs inside the container, providing security by not giving direct access to the host&rsquo;s root privileges (very important).</p>
</li>
</ul>
<p>In Docker: Separate namespaces are created for the container, which creates its own isolated environment.</p>
<h2 id="who-handles-the-resources-used-by-each-container">Who handles the resources used by each container?<a hidden class="anchor" aria-hidden="true" href="#who-handles-the-resources-used-by-each-container">#</a></h2>
<p>Control groups (cgroups), another feature of the Linux kernel, isolate resources within each container (CPU, memory, and disk operations).</p>
<p>In the case of Docker, it places the container&rsquo;s processes in cgroups, which control and limit the container&rsquo;s processes, ensuring good performance.</p>
<h1 id="if-you-want-to-dive-deeper-into-these-last-topics">If you want to dive deeper into these last topics<a hidden class="anchor" aria-hidden="true" href="#if-you-want-to-dive-deeper-into-these-last-topics">#</a></h1>
<p><a href="https://medium.com/@saschagrunert/demystifying-containers-part-i-kernel-space-2c53d6979504">https://medium.com/@saschagrunert/demystifying-containers-part-i-kernel-space-2c53d6979504</a></p>
<p><a href="https://medium.com/@saschagrunert/demystifying-containers-part-ii-container-runtimes-e363aa378f25">https://medium.com/@saschagrunert/demystifying-containers-part-ii-container-runtimes-e363aa378f25</a></p>
<p><a href="https://medium.com/@saschagrunert/demystifying-containers-part-iii-container-images-244865de6fef">https://medium.com/@saschagrunert/demystifying-containers-part-iii-container-images-244865de6fef</a></p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
    </ul>
  </footer>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2025 <a href="//localhost:1313/">Namelesss blog</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
